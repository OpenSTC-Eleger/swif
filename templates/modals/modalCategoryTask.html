<div class="modal-header">
	<button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
	<h3>
		<i class="icon-edit"></i>&nbsp;
		<% if(_.isNull(cat.getId())){ %>
			<%= _.capitalize(lang.viewsTitles.newCat) %>
		<% } else{ %>
			<%= _.capitalize(lang.viewsTitles.editCat) %>
		<% } %>
	</h3>
</div>

<div class="modal-body">
	<form id="formSaveCat" action="#" class="form-horizontal">

		
		<!-- Category name -->
		<div class="control-group">
			<label for="catName" class="control-label"><%= _.capitalize(lang.name) %>:</label>

			<div class="controls">
				<input type="text" id="catName" required value="<%= (_.isNull(cat.getId()) ? '' : cat.getName())%>" />
				<span class="help-inline"></span>
			</div>
		</div>

		<!-- Category code -->
		<div class="control-group">
			<label for="catCode" class="control-label"><%= _.capitalize(lang.code) %>:</label>

			<div class="controls">
				<input type="text" id="catCode" class="input-small" required value="<%= (_.isNull(cat.getId()) ? '' : cat.getCode())%>" />
				<span class="help-inline"></span>
			</div>
		</div>
		
		<!-- Category parent -->
		<div class="control-group">
			<label for="catParentCat" class="control-label"><%= _.capitalize(lang.parentCategory) %>:</label>
			<div class="controls">
				<input id="catParentCat" class="select2" style="width: 66%" data-placeholder="<%= lang.actions.selectACategory %>" 

					<% if(!_.isNull(cat.getId())){
						if(!_.isUndefined(cat.getParentCat('id'))) { %>
						data-selected-value='<%= JSON.stringify(cat.getParentCat('json')) %>'
					<% } } %>
				/>
				<span class="help-inline"></span>
			</div>
		</div>
		
		
		<!-- Category's Services  -->
		<div class="control-group">
			<label for="catServices" class="control-label"><%= _.capitalize(lang.associatedServices) %>:</label>
			<div class="controls">
				<input id="catServices" class="select2" style="width: 230px" data-placeholder="<%= lang.actions.selectServices %>" data-multiple="true" 

					<% if(!_.isNull(cat.getId())){
						if(!_.isEmpty(cat.getServices())) { %>
						data-selected-value='<%= JSON.stringify(cat.getServices('json')) %>'
					<% } } %>
				/>
				<span class="help-inline"></span>
			</div>
		</div>

	</form>
</div>

<div class="modal-footer">
	<button type="submit" form="formSaveCat" class="btn btn-primary"
		data-loading-text="<i class='icon-refresh icon-spin'></i>&nbsp; <%= lang.saveInProgress %>"
	>
		<%= _.capitalize(lang.actions.save) %>
	</button>&nbsp;&nbsp;
	
	<a href="#" data-dismiss="modal" aria-hidden="true"><%= _.capitalize(lang.actions.cancel) %></a>
</div>
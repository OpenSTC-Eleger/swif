<div class="modal-dialog">
	<div class="modal-content">

		<div class="modal-header">
			<button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
			<h3 class="modal-title">
				<i class="icon-edit"></i>&nbsp;
				<% if(_.isNull(equipment.getId())){ %>
					<%= _.capitalize(lang.viewsTitles.newEquipment) %>
				<% } else{ %>
					<%= _.capitalize(lang.viewsTitles.editEquipment) %>
				<% } %>
		
				
				<% if(!_.isUndefined(loader)) { %>
					<span class="modal-loader progress progress-striped active">
						<span class="bar"></span>
					</span>
				<% } %>
			</h3>
		</div>

		<div class="modal-body">
		
			<ul class="nav nav-tabs nav-justified">
				<li class="active"><a href="#" data-toggle="tab" data-target="#formEquipmentBase"><%=lang.baseEquipment%></a></li>
				<li><a href="#" data-toggle="tab" data-target="#formEquipmentDetails"><%=lang.detailsEquipment%></a></li>
				<li><a href="#" data-toggle="tab" data-target="#formEquipmentFinances"><%=lang.financesEquipment%></a></li>
				<!--<li><a href="#" data-toggle="tab" data-target="#formEquipmentAttaches"><%=lang.attaches%></a></li>-->
			</ul>
		
			<form id="formSaveEquipment" action="#" class="form-horizontal" role="form">
				<div class="tab-content">
					
					<fieldset id="formEquipmentBase" class="tab-pane fade in active">

						<!-- Equipment name -->
						<div class="form-group">
							<label for="equipmentName" class="control-label col-sm-3"><%= _.capitalize(lang.name) %>:</label>
							
							<div class="col-sm-9">
								<input type="text" class="form-control" id="equipmentName" required value="<%= (_.isNull(equipment.getId()) ? '' : equipment.getName())%>" />
							</div>
						</div>

						<!-- Equipment Category -->
						<div class="form-group">
							<label for="equipmentCategory" class="control-label col-sm-3"><%= _.capitalize(lang.category) %>:</label>

							<div class="col-sm-9">
								<input id="equipmentCategory" class="select2" required data-placeholder="<%= lang.actions.selectACategory %>" 
									<% if(!_.isNull(equipment.getId())){
										if(!_.isUndefined(equipment.getCategory('id'))) { %>
										data-selected-value='<%= JSON.stringify(equipment.getCategory('json')) %>'
									<% } } %>
								/>
							</div>
						</div>

						<!--Equipment Code -->
						<div class="form-group">
							<label for="equipmentCode" class="control-label col-sm-3"><%= _.capitalize(lang.code) %>:</label>
							
							<div class="col-sm-9">		
								<!-- Equipment code -->
								<input type="text" id="equipmentCode" class="form-control" value="<%= (_.isNull(equipment.getId()) ? '' : equipment.getMarque()) %>" />
								<span class="help-block" id="code-error"></span>
							</div>
						</div>

						<!-- Equipment Services authorized for internal use -->
						<div class="form-group">
							<div class="control-label col-sm-3">
								<input id="equipmentInternalUse" type="checkbox" name="equipmentInternalUse" value="1" style="margin:0px;"
								<% if(!_.isNull(equipment.getId())){if(equipment.getInternalUse()){%>
								checked
								<%}}%>/>
							
							<label id="labelForEquipmentServicesInternalUse" style="text-decoration:line-through;display:inline-block;" for="equipmentInternalUse"><%= _.capitalize(lang.equipmentInternalUse) %>:</label>
							</div>
							<div class="form-controls col-sm-9">
								<input id="equipmentServicesInternalUse" disabled class="select2" data-placeholder="<%= lang.actions.selectServices %>" data-multiple="multiple"

								<% if(!_.isNull(equipment.getId())){
									if(!_.isEmpty(equipment.getServices())) { %>
									data-selected-value='<%= JSON.stringify(equipment.getServices('json')) %>'
								<% } } %>

								/>
							</div>
						</div>
					
						<!-- Equipment Maintenance Services -->		
						<div class="form-group">
							<label for="equipmentMaintenanceServices" class="control-label col-sm-3"><%= _.capitalize(lang.maintenanceServices) %>:</label>

							<div class="col-sm-9">		
								<input type="text" id="equipmentMaintenanceServices" class="select2" data-multiple="multiple" data-placeholder="<%=lang.actions.selectServices%>"

								<% if(!_.isNull(equipment.getId())){
									if(!_.isEmpty(equipment.getMaintenanceServiceNames())) { %>
									data-selected-value='<%= JSON.stringify(equipment.getMaintenanceServiceNames('json')) %>'
								<% } } %>

								/>
							</div>
						</div>
					</fieldset>
					
					
					<fieldset class="tab-pane fade" id="formEquipmentDetails">

						<!-- Equipment Immat -->
						<div class="form-group">
							<label for="equipmentImmat" id="equipmentImmatLabel" class="control-label col-sm-3"><%= _.capitalize(lang.immat) %>:</label>
							<div class="col-sm-9">
								<input type="text" class="form-control" id="equipmentImmat" value="<%= (_.isNull(equipment.getId()) ? '' : equipment.getImmat()) %>" />
							</div>
						</div>

						<!-- Equipment marque -->
						<div class="form-group">
							<label for="equipmentMarque" class="control-label col-sm-3"><%= _.capitalize(lang.marque) %>:</label>

							<div class="col-sm-9">
								<input type="text" class="form-control" id="equipmentMarque" value="<%= (_.isNull(equipment.getId()) ? '' : equipment.getMarque()) %>" />
							</div>
						</div>

						<!-- Equipment energy -->
						<div class="form-group">
							<label for="equipmentEnergy" id="equipmentEnergyLabel" class="control-label col-sm-3"><%= _.capitalize(lang.oil) %>:</label>

							<div class="col-sm-9">
								<input type="text" class="form-control" id="equipmentEnergy" value="<%= (_.isNull(equipment.getId()) ? '' : equipment.getEnergy()) %>" />
							</div>
						</div>

						<!-- Equipment Built Date -->
						<div class="form-group">
							<label for="equipmentBuiltDate" class="control-label col-sm-3"><%= _.capitalize(lang.builtDate) %>:</label>
							<div class="col-sm-4">
								<div class="input-group">
									<input 
										type="text" class="datepicker form-control"
										id="equipmentBuiltDate" 
										value="<%= (_.isNull(equipment.getId()) ? '' : equipment.getBuiltDate('DD/MM/YYYY')) %>" 
										placeholder="dd/mm/yyyy">
										<span class="input-group-addon"><i class="icon-calendar"></i></span>
								</div>
							</div>
						</div>

						<!-- Equipment km -->
						<div class="form-group" id="equipmentKmBlock">
							<label for="equipmentKm" class="control-label col-sm-3"><%= _.capitalize(lang.km) %>:</label>

							<div class="col-sm-4">
								<input type="text" class="form-control" id="equipmentKm" value="<%= (_.isNull(equipment.getId()) ? '' : equipment.getKm()) %>" />
							</div>
						</div>

						<!-- Equipment time of use -->
						<div class="form-group">
							<label for="equipmentTime" class="control-label col-sm-3"><%= _.capitalize(lang.workHours) %>:</label>

							<div class="col-sm-4">
								<input type="number" class="form-control" id="equipmentTime" value="<%= (_.isNull(equipment.getId()) ? '' : equipment.getTime()) %>" />
							</div>
						</div>	
					</fieldset>
					
					
					<!-- Finances Tab -->
					<fieldset id="formEquipmentFinances" class="tab-pane fade">

						<!-- Equipment Lenght of Amort. -->
						<div class="form-group">
							<label for="equipmentLengthAmort" class="control-label col-sm-3"><%= _.capitalize(lang.lengthAmort) %>:</label>
							<div class="col-sm-4">
								<input type="number" class="form-control" id="equipmentLengthAmort" value="<%= (_.isNull(equipment.getId()) ? '' : equipment.getLengthAmort()) %>" />
							</div>
						</div>

						<!-- Equipment purchase price -->
						<div class="form-group">
							<label for="equipmentPurchasePrice" class="control-label col-sm-3"><%= _.capitalize(lang.purchasePrice) %>:</label>
							<div class="col-sm-4">
								<input type="number" class="form-control" id="equipmentPurchasePrice" value="<%= (_.isNull(equipment.getId()) ? '' : equipment.getPurchasePrice()) %>" />
							</div>
						</div>
						<!-- Equipment purchase date-->
						<div class="form-group">
							<label for="equipmentPurchaseDate" class="control-label col-sm-3"><%= _.capitalize(lang.purchaseDate) %>:</label>
							<div class="col-sm-4">
								<div class="input-group">
									<input 
										type="text" class="datepicker form-control"
										id="equipmentPurchaseDate" 
										value="<%= (_.isNull(equipment.getId()) ? '' : equipment.getPurchaseDate('DD/MM/YYYY')) %>" 
										placeholder="dd/mm/yyyy">
										<span class="input-group-addon"><i class="icon-calendar"></i></span>
								</div>
							</div>
						</div>

						<!-- Equipment hour price -->
						<div class="form-group">
							<label for="equipmentHourPrice" class="control-label col-sm-3"><%= _.capitalize(lang.hourPrice) %>:</label>
							<div class="col-sm-4">
								<input type="number" step="any" min="0" class="form-control" id="equipmentHourPrice" value="<%= (_.isNull(equipment.getId()) ? '' : equipment.getHourPrice()) %>" />
							</div>
						</div>

						<!-- Equipment End Date of Warranty -->
						<div class="form-group">
							<label for="equipmentWarranty" class="control-label col-sm-3"><%= _.capitalize(lang.warrantyDate) %>:</label>
							<div class="col-sm-4">
								<div class="input-group">
								<input 
									type="text" class="datepicker form-control"
									id="equipmentWarranty" 
									value="<%= (_.isNull(equipment.getId()) ? '' : equipment.getDateEndWarranty('DD/MM/YYYY')) %>" 
									placeholder="dd/mm/yyyy">
									<span class="input-group-addon"><i class="icon-calendar"></i></span>
								</div>
							</div>
						</div>




					</fieldset>
					
				</div>
			</form>
		</div>
		
		
		<div class="modal-footer">
			<button type="submit" form="formSaveEquipment" class="btn btn-primary" 
				data-loading-text="<i class='icon-refresh icon-spin'></i>&nbsp; <%= lang.saveInProgress %>">
				<%= _.capitalize(lang.actions.save) %>
			</button>&nbsp;&nbsp;
		
			<a href="#" data-dismiss="modal" aria-hidden="true"><%= _.capitalize(lang.actions.cancel) %></a>
		</div>

	</div>
</div>
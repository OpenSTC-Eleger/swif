<div class="modal-dialog">
	<div class="modal-content">


		<div class="modal-header">
			<div class="btn-group btn-group-xs pull-right">
				<a type="button" class="btn text-info hidden-xs" title="<%= lang.zenMode %>" data-action="zenmode"><i class="fa fa-arrows-alt"></i></a>
				<a type="button" class="btn close" data-dismiss="modal"><i class="fa fa-times"></i></a>
			</div>
			<h4 class="modal-title">
				<i class="fa fa-edit"></i>&nbsp;
				<% if(_.isNull(user.getId())){ %>
					<%= _.capitalize(lang.viewsTitles.newPeople) %>
				<% } else{ %>
					<%= _.capitalize(lang.viewsTitles.editPeople) %>
				<% } %>

			</h4>
		</div>

		<div class="modal-body">

			<% if(!_.isUndefined(loader)) { %>
				<span class="modal-loader progress progress-striped active">
					<span class="bar"></span>
				</span>
			<% } else { %>


				<!-- Tabs -->
				<ul class="nav nav-tabs nav-justified">
					<li class="active"><a href="#" data-toggle="tab" data-target="#sectionAboutOfficer"><%= _.capitalize(lang.about) %></a></li>
					<li><a href="#" data-toggle="tab" data-target="#sectionOfficerSettings"><%= _.capitalize(lang.settings) %></a></li>
				</ul>

				<form id="formSaveOfficer" action="#" class="form-horizontal" role="form">
					<div class="tab-content">


						<!-- About the User -->
						<fieldset id="sectionAboutOfficer" class="tab-pane fade in active">

							<!-- User firstname -->
							<div class="form-group">
								<label for="officerFirstname" class="control-label col-sm-3"><%= _.capitalize(lang.firstname) %>:</label>

								<div class="col-sm-9">
									<input type="text" id="officerFirstname" class="form-control" required value="<%= (_.isNull(user.getId()) ? '' : user.getFirstname())%>">
								</div>
							</div>

							<!-- User name -->
							<div class="form-group">
								<label for="officerName" class="control-label col-sm-3"><%= _.capitalize(lang.name) %>:</label>

								<div class="col-sm-9">
									<input type="text" id="officerName" class="form-control" required value="<%= (_.isNull(user.getId()) ? '' : user.getName()) %>">
								</div>
							</div>

							<!-- User email -->
							<div class="form-group">
								<label for="officerEmail" class="control-label col-sm-3"><%= _.capitalize(lang.email) %>:</label>

								<div class="col-sm-9">
									<input type="email" id="officerEmail" class="form-control" value="<%= (_.isNull(user.getId()) ? '' : user.getEmail()) %>">
								</div>
							</div>


							<!-- User or Elected Function -->
							<div class="form-group">
								<label for="officerFunction" class="control-label col-sm-3"><%= _.capitalize(lang.status) %>:</label>
								<div class="col-sm-9">
									<input type="checkbox" class="make-switch" id="officerFunction" data-on-text="Agent" data-off-text="Elu" data-on-color="default" data-off-color="default" tabindex="0"
									<% if(!_.isNull(user.getId())) {
										if(user.getStatus() == UserStatus.officer){ %>
											checked
										<% }
									} else{ %>
										checked
									<% } %>
									>
								</div>
							</div>


							<% if(_.isNull(user.getId())) {%>
							<fieldset>

								<legend><%= _.capitalize(lang.connection) %></legend>

								<!-- Officer login -->
								<div class="form-group">
									<label for="officerLogin" class="control-label col-sm-3"><%= _.capitalize(lang.login) %>:</label>

									<div class="col-sm-9">
										<input type="text" id="officerLogin" class="form-control" required>
									</div>
								</div>

								<!-- Officer password -->
								<div class="form-group">
									<label for="officerPassword" class="control-label col-sm-3"><%= _.capitalize(lang.password) %>:</label>

									<div class="col-sm-9">
										<input type="password" id="officerPassword" class="form-control" pattern=".{6,}" required>
										<span class="help-block"><%= lang.infoMessages.sixCharMin %></span>
									</div>
								</div>

							</fieldset>
							<% } %>

						</fieldset><!-- /Section about officer -->


						<!-- Section about officer setting -->
						<fieldset id="sectionOfficerSettings" class="tab-pane fade">

							<!-- Officer Service -->
							<div class="form-group" >
								<label for="officerService" class="control-label col-sm-3"><%= _.capitalize(lang.membershipService) %>:</label>

								<div class="col-sm-9">
									<input id="officerService" class="select2" required data-placeholder="<%= lang.actions.selectAService %>"

									<% if(!_.isNull(user.getId())){
										if(!_.isUndefined(user.getService('id'))) { %>
										data-selected-value='<%= JSON.stringify(user.getService('json')) %>'
									<% }
									}else{
										var json = {id: service.getId(), name: service.getName()}
									%>
										data-selected-value='<%= JSON.stringify(json) %>'
									<% } %>

									>
								</div>
							</div>

							<!-- Officer Other Service -->
							<div class="form-group">
								<label for="officerOtherServices" class="control-label col-sm-3"><%= _.capitalize(lang.otherServices) %>:</label>

								<div class="col-sm-9">
									<input id="officerOtherServices" class="select2" data-placeholder="<%= lang.actions.selectServices %>" data-multiple="true"

									<% if(!_.isNull(user.getId())){
										if(!_.isEmpty(user.getServices())) { %>
											data-selected-value='<%= JSON.stringify(user.getServices('json')) %>'
									<% } } %>

									>
								</div>
							</div>



							<!-- Only display if the fonction of the user is an officer -->
							<section class="officer-section">

								<!-- Officer time cost -->
								<div class="form-group">
									<label for="officerCost" class="control-label col-sm-3"><%= _.capitalize(lang.hourPrice) %>:</label>
									<div class="col-sm-4">
										<div class="input-group">
											<input  id="officerCost"type="number" step="any" min="0" class="form-control" value="<%= (_.isNull(user.getId()) ? '' : user.getCost()) %>">
											<span class="input-group-addon"><i class="fa fa-eur"></i></span>
										</div>
									</div>
								</div>

							</section>


							<fieldset>
								<legend><%= _.capitalize(lang.viewsTitles.roleManagement) %></legend>

								<!-- Officer Group -->
								<div class="form-group hide officerForm">

									<label for="officerGroup" class="control-label col-sm-3"><%= _.capitalize(lang.groupInter) %>:</label>

									<div class="col-sm-9">
										<input id="officerGroup" class="select2" data-placeholder="<%= lang.actions.selectAGroup %>"

										<% if(!_.isNull(user.getId())){
											if(!_.isUndefined(user.getGroupSTC('id'))) { %>
											data-selected-value='<%= JSON.stringify(user.getGroupSTC('json')) %>'
										<% } } %>

										>
									</div>

								</div>

								<div class="form-group hide resaForm">
									<label for="resaGroup" class="control-label col-sm-3"><%= _.capitalize(lang.groupResa) %>:</label>

									<div class="col-sm-9">
										<input id="resaGroup" class="select2" data-placeholder="<%= lang.actions.selectAGroup %>"

										<% if(!_.isNull(user.getId())){
											if(!_.isUndefined(user.getGroupResa('id'))) { %>
											data-selected-value='<%= JSON.stringify(user.getGroupResa('json')) %>'
										<% } } %>

										>
									</div>

								</div>
							</fieldset>

						</fieldset> <!-- /Section about officer setting -->

					</div> <!-- /Tab content -->
				</form>
				<% } %>
		</div> <!-- /Modal body -->


		<div class="modal-footer">
			<button type="submit" form="formSaveOfficer" class="btn btn-primary"
				data-loading-text="<i class='fa fa-refresh fa-spin'></i>&nbsp; <%= lang.saveInProgress %>"
				<%= (_.isUndefined(loader) ? '' : 'disabled') %>
			>
				<%= _.capitalize(lang.actions.save) %>
			</button>&nbsp;&nbsp;

			<a href="#" data-dismiss="modal" aria-hidden="true"><%= _.capitalize(lang.actions.cancel) %></a>
		</div>


	</div>
</div><!-- /modal-dialog -->
<div class="page-header">
	<h1>
		<%= lang.viewsTitles.teamsList %>
		<sup><i class="badge"><%= nbTeams %></i></sup>
	</h1>
</div>


<div class="container-fluid">

	<div class="span5">
		<!-- Check if there is Teams in the Database -->
		<% if(nbTeams > 0) { %>

			<!-- Table toolbar -->
			<div class="tableToolbar">
				<a href="#modalAddTeam" class="btn btn-primary" data-toggle="modal"><i class="icon-plus-sign"></i> <%= _.capitalize(lang.actions.addTeam) %></a>	

				<form class="form-search pull-right">
					<div class="input-append">
						<input type="search" class="input-medium search-query" placeholder="<%= lang.actions.search %>..." autocomplete="off">
						<button type="submit" class="btn"><i class="icon-search icon-large"></i></button>
					</div>
				</form>
			</div>
			<!-- Table toolbar -->


			<!-- Table Teams -->
			<table class="table table-bordered table-hover table-striped">
				<thead>
					<tr>
						<th><%= _.capitalize(lang.name) %></th>
						<th><%= _.capitalize(lang.foreman) %></th>					
					</tr>
				</thead>
				<tbody>
				<% for (var i = startPos; i < endPos; i++) { %>
					
					<!-- Teams row -->
					<tr class="row-item" id="team_<%= teams[i].id %>">
						<td>
							<i class="icon-group">&nbsp;&nbsp;</i><%= teams[i].name %>
							<p class="row-actions invisible">
								<a href="#modalAddTeam" class="modalAddTeam"><i class="icon-pencil"></i>&nbsp;<%= _.capitalize(lang.actions.update) %></a> |
								<a href="#modalDeleteTeam" class="modalDeleteTeam" data-toggle="modal"><i class="icon-remove"></i>&nbsp;<%= _.capitalize(lang.actions.delete) %></a>
							</p>
						</td>
						<td><%= teams[i].manager_id[1] %></td>
					</tr>

				<% }; %>
				</tbody>
			</table>


			<!-- Table pagination -->
			<div class="pagination pagination-right">
				<ul>
					<!-- First page button -->
					<% if(page-2 >= 1){ %>
						<li <%= ((page - 1) == 0 ? " class='disabled'" : "")%>><a href='#sites/page<%= 1 %>'><%= _.capitalize(lang.actions.first) %></a></li>
					<% } %>
					
					<!-- Previous page button -->
					<li <%= ((page - 1) == 0 ? " class='disabled'" : "")%>><a href='#sites/page<%=(page-1)%>'><%= _.capitalize(lang.actions.previousShort) %></a></li>
				
					<!-- [...] page Button -->
					<% 	if (page-2 > 1) { %>
							<li class="disabled"><a href='#'>...</a></li>
					<% } 
							
						for (var i=(page-2); i < (page+3); i++) {
							if(i >= 1 && i <= pageCount){ %>
								<li <%= (i === page ? " class='active'" : "")%>><a href='#sites/page<%=i%>'><%= i %></a></li>
							<% }

						} %>
						
					<!-- [...] page Button -->
					<% if (page+2 < pageCount) { %>
						<li class="disabled"><a href='#'>...</a></li>
					<% } %>
					
					<!-- Next page button -->
					<li <%= ((page + 1) > pageCount ? " class='disabled'" : "")%>><a href='#sites/page<%=(page+1)%>'><%= _.capitalize(lang.actions.nextShort) %></a></li>
					
					<!-- Last page button -->
					<% if(page+2 <= pageCount){ %>
						<li <%= ((page + 1) > pageCount ? " class='disabled'" : "")%>><a href='#sites/page<%= pageCount %>'><%= _.capitalize(lang.actions.end) %></a></li>
					<% } %>
				</ul>
			</div>
			<!-- /Table pagination -->

		<% }
		else { %>
			<div class="tableToolbar">
				<a href="#modalAddTeam" class="btn btn-primary" data-toggle="modal"><i class="icon-plus-sign"></i> <%= _.capitalize(lang.actions.addTeam) %></a>
			</div><br />

			<!-- No team in the Database -->
			<div class="alert alert-info">
				<i class="icon-info-sign icon-large"></i> &nbsp;<%= lang.infoMessages.noTeam %>.
			</div>

		<% } %>

	</div>


	<div class="span4" style="background-color: red;">
		
		liste des users dans l'équipes 

	</div>

	<div class="span3" style="background-color: purple;">
		liste des autres users
	</div>

</div>


<!-- Modal Form to add a new Team -->
<div id="modalAddTeam" class="modal hide fade">
	<div class="modal-header">
		<button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
		<h3><%= _.capitalize(lang.actions.addTeam) %></h3>
	</div>
	
	<div class="modal-body">
		<form id="formAddTeam" action="#" class="form-horizontal">

			<!-- Team name -->
			<div class="control-group">
				<label for="teamName" class="control-label"><%= _.capitalize(lang.name) %>:</label>

				<div class="controls">
					<input type="text" id="teamName" name="teamName" required="required" />
					<span class="help-inline"></span>
				</div>
			</div>

			<!-- Team Service -->
			<div class="control-group">
				<label for="teamService" class="control-label"><%= _.capitalize(lang.service) %>:</label>

				<div class="controls">
					<select id="teamService"></select>
					<span class="help-inline"></span>
				</div>
			</div>

		</form>
	</div>
	
	<div class="modal-footer">
		<button type="submit" form="formAddTeam" class="btn btn-primary saveTask"><%= _.capitalize(lang.actions.save) %></button>&nbsp;&nbsp;
		<a href="#" data-dismiss="modal"><%= _.capitalize(lang.actions.cancel) %></a>
	</div>
</div>


<!-- Modal Form Delete Team -->
<div id="modalDeleteTeam" class="modal hide fade">
	<div class="modal-header">
	    <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
	    <h3>Suppression de l'équipe</h3>
	</div>
	
	<div class="modal-body">

		<blockquote id="infoModalDeleteTeam" class="spaceBottom">
			<p></p>
			<small></small>
		</blockquote>

		<p><%= lang.warningMessages.confirmDeleteTeam %></p>
	</div>
	
	<div class="modal-footer">
	    <button type="button" class="btn btn-danger btnDeleteTeam"><%= _.capitalize(lang.actions.delete) %></button>&nbsp;&nbsp;
	    <a href="#" data-dismiss="modal"><%= _.capitalize(lang.actions.cancel) %></a>
	</div>
</div>
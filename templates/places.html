<div class="page-header">
	<h1>
		<%= lang.viewsTitles.placesList %>
		<sup class="badge"><%= nbPlaces %></sup>
	</h1>
</div>


<div class="container-fluid">


	<!-- Table toolbar -->
	<div class="tableToolbar">
		<a href="#modalSavePlace" class="btn btn-primary modalSavePlace" data-toggle="modal"><i class="icon-plus"></i> <%= _.capitalize(lang.actions.addPlace) %></a>

		<form class="form-search pull-right">
			<div class="input-append">
				<input type="search" class="input-medium search-query" placeholder="<%= _.capitalize(lang.actions.search) %>..." autocomplete="off">
				<button type="submit" class="btn"><i class="icon-search text-info icon-large"></i></button>
			</div>
		</form>
	</div>
	<!-- Table toolbar -->



	<!-- Check if there is any Places in the Database  -->
	<% if(!_.isEmpty(places)) { %>

		<!-- Table Teams -->
		<table class="table table-bordered table-hover table-striped table-sorter">
			<thead>
				<tr>
					<th data-column="name"><%= _.capitalize(lang.name) %> <i class="icon-sort icon-large icon-muted pull-right"></i></th>
					<th><%= _.capitalize(lang.parentPlace) %></th>
					<th><%= _.capitalize(lang.service) %></th>	
					<th class="hidden-phone" data-column="surface"><%= _.capitalize(lang.area) %> <i class="icon-sort icon-large icon-muted pull-right"></i></th>
				</tr>
			</thead>
			<tbody>
			<% places.each(function(place){ %>

				<!-- Place row -->
				<tr class="row-item" id="place_<%= place.id %>">
					<td>
						<i class="icon-map-marker">&nbsp;&nbsp;</i><%= place.getCompleteName() %>

						<p class="row-actions invisible">
							<a href="#modalSavePlace"  class="modalSavePlace" data-toggle="modal">
								<i class="icon-pencil icon-large" data-toggle="tooltip" data-original-title="<%= _.capitalize(lang.actions.update) %>"></i></a>&nbsp;
							<a href="#" class="modalDeletePlace">
								<i class="icon-remove icon-large" data-toggle="tooltip" data-original-title="<%= _.capitalize(lang.actions.delete) %>"></i>
							</a>
						</p>
					</td>
					<td><%= place.getParentPlace() %></td>
					<td><%= place.getServices('string') %></td>	
					<td class="text-right hidden-phone"><%= place.getSurface(true) %></td>
				</tr>

			<% }); %>
			</tbody>
		</table>


		<!-- Table pagination -->
		<div id="pagination"></div>
		<!-- /Table pagination -->

	<% }
	else { %>

		<!-- No place in the Database -->
		<div class="alert alert-info">
			<i class="icon-info-sign icon-large"></i> &nbsp;<%= lang.infoMessages.noPlace %>.
		</div>

	<% } %>

</div>


<!-- Modal Form to add a new Place -->
<div id="modalSavePlace" class="modal hide fade">
	<div class="modal-header">
		<button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
		<h3><%= _.capitalize(lang.actions.addPlace) %></h3>
	</div>
	
	<div class="modal-body">
		<form id="formSavePlace" action="#" class="form-horizontal">


			<!-- Place name -->
			<div class="control-group">
				<label for="placeName" class="control-label"><%= _.capitalize(lang.name) %>:</label>

				<div class="controls">
					<input type="text" id="placeName" required />
					<span class="help-inline"></span>
				</div>
			</div>

			<!-- Place Type -->
			<div class="control-group">
				<label for="placeType" class="control-label"><%= _.capitalize(lang.type) %>:</label>

				<div class="controls">
					<input id="placeType" style="width: 66%" required="required" data-placeholder="<%= lang.actions.selectAPlaceType %>" />
					<span class="help-inline"></span>
				</div>
			</div>

			<div class="control-group">
				<label for="placeParentPlace" class="control-label"><%= _.capitalize(lang.parentPlace) %>:</label>
				<div class="controls">
					<input id="placeParentPlace" style="width: 66%" data-placeholder="<%= lang.actions.selectAPlace %>" data-minimum-input-length="2" />
					<span class="help-inline"></span>
				</div>
			</div>


			<div class="control-group">
				<label for="placeServices" class="control-label"><%= _.capitalize(lang.associatedServices) %>:</label>
				<div class="controls">
					<input id="placeServices" style="width: 230px" data-placeholder="<%= lang.actions.selectServices %>" data-multiple="true" />
					<span class="help-inline"></span>
				</div>
			</div>


			<fieldset>
				<legend><%= _.capitalize(lang.property) %></legend>
				<div class="control-group">
					<div class="form-inline">
						
						<!-- Place width -->
						<div class="span4">
							<label for="placeWidth"><%= _.capitalize(lang.width) %>:</label>
							<input type="number" id="placeWidth" class="input-mini" />
						</div>

						<!-- Place Lenght -->
						<div class="span4">
							<label for="placeLenght"><%= _.capitalize(lang.lenght) %>:</label>
							<input type="number" id="placeLenght" class="input-mini" />
						</div>

						<!-- Place Area -->
						<div class="span4">
							<label for="placeArea"><%= _.capitalize(lang.area) %>:</label>
							<input type="number" id="placeArea" class="input-mini" />
						</div>

					</div>
				</div>
			</fieldset>

		</form>
	</div>
	
	
	<div class="modal-footer">
		<button type="submit" form="formSavePlace" class="btn btn-primary"><%= _.capitalize(lang.actions.save) %></button>&nbsp;&nbsp;
		<a href="#places" data-dismiss="modal"><%= _.capitalize(lang.actions.cancel) %></a>
	</div>
</div>


<!-- Modal Form Delete Place -->
<div id="modalDeletePlace" class="modal hide fade"></div>
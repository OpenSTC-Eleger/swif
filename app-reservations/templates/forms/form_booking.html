<div class="page-header">
	<h1>
		<%= lang.viewsTitles.newBooking %>
	</h1>
</div>

	
<form id="formSaveBooking" action="#" class="form-horizontal container" role="form">
	<div class="row">
		<fieldset class="col-sm-6" <%= readonly ? 'disabled' : ''%>>
		<legend><%= lang.resa.generalInfos%></legend>
			<!-- Citizen BS-switch -->
			<div class="form-group">
				<label for="bookingIsCitizen" class="control-label col-sm-3"><%= _.capitalize(lang.citizen) %>:</label>
		
				<div class="make-switch" id="bookingIsCitizen" data-on-label="<%= lang.yes %>" data-off-label="<%= lang.no %>" tabindex="0">
					<input id="isCitizen" type="checkbox"
		
						<% if(!_.isNull(booking.getId())){ if(booking.fromCitizen()) { %> checked <% } } %>
					>
				</div>
			</div>
			
			<!-- Booking Partner (claimer) -->
			<div class="form-group">
				<label for="bookingPartner" class="control-label col-sm-3"><%= _.capitalize(lang.claiment) %>:</label>
	
				<div class="col-sm-9">
					<input id="bookingPartner" class="select2" data-placeholder="<%= lang.actions.selectAClaimer %>"
					<%= readonly ? 'disabled' : ''%>/>
				</div>
			</div>

			<!-- Booking Contact (contact of claimer) -->
			<div class="form-group" id="blockBookingContact">
				<label for="bookingContact" class="control-label col-sm-3"><%= _.capitalize(lang.contact) %>:</label>
	
				<div class="col-sm-9">
					<input id="bookingContact" class="select2" data-placeholder="<%= lang.actions.selectAContact %>" 
					<%= readonly ? 'disabled' : ''%>/>
				</div>
			</div>
			<!-- Citizen infos -->
			<div id="citizenInfos">
				<div class="form-group">
					<label for="bookingPeopleName" class="control-label col-sm-3"><%= _.capitalize(lang.name) %>:</label>
					<div class="col-sm-9">
						<input type="text" id="bookingPeopleName" name="peopleName" class="form-control" value="<%= booking.getCitizenName()%>"/>
					</div>	
				</div>
				<div class="form-group">
					<label for="bookingPeopleStreet" class="control-label col-sm-3"><%= _.capitalize(lang.resa.contactDetails) %>:</label>
						<div class="input-group col-sm-9">
							<span class="input-group-addon"><%= lang.street%></span>
							<input type="text" id="bookingPeopleStreet" name="peopleStreet" class="form-control" value="<%= booking.getAttribute('people_street','')%>"/>
						</div>
						<div class="col-sm-3"/>
						<div class="input-group col-sm-4">
							<span class="input-group-addon"><%= lang.zip%></span>
							<input type="text" id="bookingPeopleZip" name="peopleZip" class="form-control" value="<%= booking.getAttribute('people_zip','')%>"/>
						</div>
						<div class="input-group col-sm-5">
							<span class="input-group-addon"><%= lang.city%></span>
							<input type="text" id="bookingPeopleCity" name="peopleCity" class="form-control" value="<%= booking.getAttribute('people_city','')%>"/>
						</div>
						<div class="col-sm-3"/>
						<div class="input-group col-sm-4">
							<span class="input-group-addon"><%= lang.phone%></span>
							<input type="phone" id="bookingPeoplePhone" name="peoplePhone" class="form-control" value="<%= booking.getCitizenPhone()%>"/>
						</div>
						<div class="input-group col-sm-5">
							<span class="input-group-addon"><%= lang.email%></span>
							<input type="email" id="bookingPeopleMail" name="peopleMail" class="form-control" value="<%= booking.getAttribute('partner_mail','')%>"/>
						</div>
				</div>
			</div>

			<!-- booking name -->
			<div class="form-group">
				<label for="bookingName" class="control-label col-sm-3"><%= _.capitalize(lang.label) %>:</label>
				<div class="col-sm-9">
					<input type="text" id="bookingName" name="bookingName" class="form-control" required="required" value="<%= booking.getName()%>"/>
				</div>
			</div>
			
			<!-- whole_day flag -->
			<div class="form-group">
				<label for="bookingWholeDay" class="control-label col-sm-3"><%= _.capitalize(lang.resa.wholeDay) %>:</label>
		
				<div class="make-switch" id="bookingWholeDay" data-on-label="<%= lang.yes %>" data-off-label="<%= lang.no %>" tabindex="0">
					<input id="wholeDay" type="checkbox"
		
						<% if(!_.isNull(booking.getId())){ if(booking.getAttribute('whole_day',false)) { %> checked <% } } %>
					>
				</div>
			</div>
			
			<!-- booking checkin -->
			<div class="form-group">
				<label for="bookingCheckin" class="control-label col-sm-3"><%= _.capitalize(lang.dateStart) %>:</label>
				<!-- checkin date -->
				<div class="input-group col-sm-4">
					<input type="text" class="datepicker form-control" id="bookingCheckin" value="<%= startDate%>" placeholder="dd/mm/yyyy" required="required">
					<span class="input-group-addon"><i class="fa fa-calendar"></i></span>
				</div>

				<!-- checkin hour -->
				<div id="blockBookingCheckinHour" class="input-group bootstrap-timepicker col-sm-3" >							
					<input type="text" class="timepicker-default form-control" id='bookingCheckinHour' value="<%= startHour%>" required="required">
					<span class="input-group-addon"><i class="fa fa-clock-o"></i></span>
				</div>
			</div>
			
			<!-- booking checkout -->
			<div class="form-group">
				<label for="bookingCheckout" class="control-label col-sm-3"><%= _.capitalize(lang.dateEnd) %>:</label>
				<!-- checkout date -->
				<div class="input-group col-sm-4">
					<input type="text" class="datepicker form-control" id="bookingCheckout" value="<%= endDate%>" placeholder="dd/mm/yyyy" required="required">
					<span class="input-group-addon"><i class="fa fa-calendar"></i></span>
				</div>

				<!-- checkout hour -->
				<div id="blockBookingCheckoutHour" class="input-group bootstrap-timepicker col-sm-3" >							
					<input type="text" class="timepicker-default form-control" id='bookingCheckoutHour' value="<%= endHour%>" required="required">
					<span class="input-group-addon"><i class="fa fa-clock-o"></i></span>
				</div>
			</div>

		<!-- </fieldset>-->
		<!-- Bookables (qty, pricing, dispo)-->
		<!-- <fieldset class="col-sm-6" <%= readonly ? 'disabled' : ''%>>-->
		<hr/>
		<legend><%= lang.resa.bookablesOrdered%></legend>
			<!-- Recap of BookingLines -->
			<table class="table-nested-objects table table-striped table-condensed table-hover">
				<thead>
				<tr>
					<th class="row-sm-3"><%= _.capitalize(lang.picture) %></th>
					<th class="row-sm-3"><%= _.capitalize(lang.bookable) %></th>
					<th class="row-sm-2"><%= _.capitalize(lang.quantity) %></th>
					<th class="row-sm-1"><%= _.capitalize(lang.availability) %></th>
					<th class="row-sm-3"><%= _.capitalize(lang.price) %></th>
				</tr>
				</thead>
				<tbody id="bookingLines">
				
				</tbody>
			</table>
			<!-- Add a bookable -->
			<div class="form-group">
				<label for="bookingAddBookable" class="control-label col-sm-3"><%= _.capitalize(lang.resa.actions.addABookable) %>:</label>
	
				<div class="col-sm-9">
					<input id="bookingAddBookable" class="select2" data-placeholder="<%= lang.actions.selectABookable %>"/>
				</div>
			</div>
		</fieldset>

		<fieldset class="col-sm-6">
			<legend><%= lang.resa.recurrenceSetting%></legend>
			<div class="form-group">
				<label for="bookingAddBookable" class="control-label col-sm-3"><%= _.capitalize(lang.resa.recurrenteBooking) %>:</label>
		
				<div class="make-switch" id="bookingAddRecurrence" data-on-label="<%= lang.yes %>" data-off-label="<%= lang.no %>" tabindex="0">
					<input id="addRecurrence" type="checkbox"
		
						<% if(!_.isNull(booking.getId())){ if(booking.getRecurrence()) { %> checked <% } } %>
					>
				</div>
			</div>
			<!-- recurrence-->
			<div id="recurrence">
				
			</div>
		</fieldset>
	</div>
	<hr/>
	<div class="row">
		<div class="col-sm-2 col-sm-offset-4">
			<div class="pull-right">
				<button type="submit" class="btn btn-primary" form="formSaveBooking" id="saveFormBooking"><%= lang.actions.validate%></button>
				<a href="#app-reservations/reservations" aria-hidden="true"><%= _.capitalize(lang.actions.cancel) %></a>
			</div>
		</div>
	</div>
</form>
